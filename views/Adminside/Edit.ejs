<% layout("../layout/boilerplate.ejs") %>

<div class="container mt-5">
    <h2>Edit your Products</h2>
<form action="/products/<%= product._id %>?_method=PUT" method="POST">
  
    <!-- Product Name -->
    <div class="form-group">
        <label for="name">Product Name</label>
        <input type="text" class="form-control" id="name" name="product[name]" value="<%= product.name %>" required>
    </div>

    <!-- Description -->
    <div class="form-group">
        <label for="description">Description</label>
        <textarea class="form-control" id="description" name="product[description]" rows="3" required><%= product.description %></textarea>
    </div>

    <!-- Price -->
    <div class="form-group">
        <label for="price">Price</label>
        <input type="number" class="form-control" id="price" name="product[price]" value="<%= product.price %>" required min="0" step="0.01">
    </div>

    <!-- Stock -->
    <div class="form-group">
        <label for="stock">Stock</label>
        <input type="number" class="form-control" id="stock" name="product[stock]" value="<%= product.stock %>" required min="0">
    </div>

    <!-- SKU -->
    <div class="form-group">
        <label for="sku">SKU</label>
        <input type="text" class="form-control" id="sku" name="product[sku]" value="<%= product.sku %>" required>
    </div>

    <!-- Categories -->
    <div class="form-group">
        <label for="categories">Categories (comma separated)</label>
        <input type="text" class="form-control" id="categories" name="product[categories]" value="<%= product.categories.join(', ') %>">
    </div>

    <!-- Tags -->
    <div class="form-group">
        <label for="tags">Tags (comma separated)</label>
        <input type="text" class="form-control" id="tags" name="product[tags]" value="<%= product.tags.join(', ') %>">
    </div>

    <!-- Brand -->
    <div class="form-group">
        <label for="brand">Brand</label>
        <input type="text" class="form-control" id="brand" name="product[brand]" value="<%= product.brand %>">
    </div>

    <!-- Attributes -->
    <div class="form-group">
        <label for="attributes">Attributes (JSON format)</label>
        <textarea class="form-control" id="attributes" name="product[attributes]" rows="5" required><%= JSON.stringify(Array.from(product.attributes)) %></textarea>
        <small class="form-text text-muted">Example: {"Fabric": "SMMS Nonwoven Fabric", "Closure": "Hook & Loop"}</small>
    </div>

    <!-- Specifications -->
    <div class="form-group">
        <label for="specifications">Specifications (JSON format)</label>
        <textarea class="form-control" id="specifications" name="product[specifications]" rows="5" required><%= JSON.stringify(Array.from(product.specifications)) %></textarea>
        <small class="form-text text-muted">Example: {"EAN": "5036108134632", "ECLASSCode": "40019121"}</small>
    </div>

    <!-- Image URL -->
    <div class="form-group">
        <label for="imageUrl">Image URL</label>
        <input type="text" class="form-control" id="imageUrl" name="product[imageUrl]" value="<%= product.imageUrl %>">
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Update Product</button>
</form>
</div>